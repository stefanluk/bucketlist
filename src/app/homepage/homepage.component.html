<form *ngIf="items" [formGroup]="updateForm" novalidate>

  <div class="panel panel-default" *ngFor="let item of items; let i = index" formArrayName="bucketListItems">
    <div class="panel-body">
      {{ item.title}}
      <span class="remove" (click)="deleteItem(item.$key)">X</span>
      <span class="edit" (click)="toggle[i] = !toggle[i]">edit</span>

      <fieldset *ngIf="toggle[i]" [formArrayName]="i">

        <!--<pre>{{ updateForm.value | json }}</pre>-->
        <!--<pre>{{ updateForm.controls.bucketListItems.controls[i].controls.value | json}}</pre>-->
        <!--<pre>{{ updateForm.get('bucketListItems.'+i).value | json}}</pre>-->
        <!--<pre>{{ updateForm.get('bucketListItems').value | json}}</pre>-->

        <legend>Update item</legend>
        <div class="form-group">
          <label for="inputTitle" class="col-md-2 control-label">Titel</label>
          <input type="text" class="form-control" id="inputTitle" name="newTitle" formControlName="newTitle">
        </div>

        <div class="form-group">
          <button class="btn btn-primary" (click)="updateItem(item.$key, updateForm.get('bucketListItems.'+i).value)">Submit</button>
        </div>
      </fieldset>

    </div>
  </div>

</form>

